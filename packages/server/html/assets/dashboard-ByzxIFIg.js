import{R as ae,r as n,C as Q,c as W,b as re,u as le,d as ie,a as ce,A as F,j as u,N as ue,O as de}from"./index-E8kkbUnu.js";import{I as X}from"./dropdown-D0EClAIK.js";import{E as me,M as pe}from"./index-e9shj9PC.js";import{C as ge,t as fe,u as ye,a as be,B as q}from"./index-fEJkcUqE.js";function J(t){return["small","middle","large"].includes(t)}function K(t){return t?typeof t=="number"&&!Number.isNaN(t):!1}const Y=ae.createContext({latestIndex:0}),ve=Y.Provider,xe=t=>{let{className:r,index:a,children:e,split:o,style:s}=t;const{latestIndex:c}=n.useContext(Y);return e==null?null:n.createElement(n.Fragment,null,n.createElement("div",{className:r,style:s},e),a<c&&o&&n.createElement("span",{className:`${r}-split`},o))},Ne=xe;var Ce=function(t,r){var a={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&r.indexOf(e)<0&&(a[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,e=Object.getOwnPropertySymbols(t);o<e.length;o++)r.indexOf(e[o])<0&&Object.prototype.propertyIsEnumerable.call(t,e[o])&&(a[e[o]]=t[e[o]]);return a};const Z=n.forwardRef((t,r)=>{var a,e;const{getPrefixCls:o,space:s,direction:c}=n.useContext(Q),{size:l=(s==null?void 0:s.size)||"small",align:h,className:j,rootClassName:D,children:$,direction:w="horizontal",prefixCls:z,split:V,style:I,wrap:_=!1,classNames:b,styles:v}=t,R=Ce(t,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap","classNames","styles"]),[p,g]=Array.isArray(l)?l:[l,l],O=J(g),E=J(p),B=K(g),A=K(p),k=fe($,{keepEmpty:!0}),P=h===void 0&&w==="horizontal"?"center":h,i=o("space",z),[U,L,T]=ye(i),H=W(i,s==null?void 0:s.className,L,`${i}-${w}`,{[`${i}-rtl`]:c==="rtl",[`${i}-align-${P}`]:P,[`${i}-gap-row-${g}`]:O,[`${i}-gap-col-${p}`]:E},j,D,T),S=W(`${i}-item`,(a=b==null?void 0:b.item)!==null&&a!==void 0?a:(e=s==null?void 0:s.classNames)===null||e===void 0?void 0:e.item);let f=0;const G=k.map((m,x)=>{var N,C;m!=null&&(f=x);const M=m&&m.key||`${S}-${x}`;return n.createElement(Ne,{className:S,key:M,index:x,split:V,style:(N=v==null?void 0:v.item)!==null&&N!==void 0?N:(C=s==null?void 0:s.styles)===null||C===void 0?void 0:C.item},m)}),d=n.useMemo(()=>({latestIndex:f}),[f]);if(k.length===0)return null;const y={};return _&&(y.flexWrap="wrap"),!E&&A&&(y.columnGap=p),!O&&B&&(y.rowGap=g),U(n.createElement("div",Object.assign({ref:r,className:H,style:Object.assign(Object.assign(Object.assign({},y),s==null?void 0:s.style),I)},R),n.createElement(ve,{value:d},G)))});Z.displayName="Space";const ee=Z;ee.Compact=ge;const he=ee;var we=function(t,r){var a={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&r.indexOf(e)<0&&(a[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,e=Object.getOwnPropertySymbols(t);o<e.length;o++)r.indexOf(e[o])<0&&Object.prototype.propertyIsEnumerable.call(t,e[o])&&(a[e[o]]=t[e[o]]);return a};const te=t=>{const{getPopupContainer:r,getPrefixCls:a,direction:e}=n.useContext(Q),{prefixCls:o,type:s="default",danger:c,disabled:l,loading:h,onClick:j,htmlType:D,children:$,className:w,menu:z,arrow:V,autoFocus:I,overlay:_,trigger:b,align:v,open:R,onOpenChange:p,placement:g,getPopupContainer:O,href:E,icon:B=n.createElement(me,null),title:A,buttonsRender:k=ne=>ne,mouseEnterDelay:P,mouseLeaveDelay:i,overlayClassName:U,overlayStyle:L,destroyPopupOnHide:T,dropdownRender:H}=t,S=we(t,["prefixCls","type","danger","disabled","loading","onClick","htmlType","children","className","menu","arrow","autoFocus","overlay","trigger","align","open","onOpenChange","placement","getPopupContainer","href","icon","title","buttonsRender","mouseEnterDelay","mouseLeaveDelay","overlayClassName","overlayStyle","destroyPopupOnHide","dropdownRender"]),f=a("dropdown",o),G=`${f}-button`,d={menu:z,arrow:V,autoFocus:I,align:v,disabled:l,trigger:l?[]:b,onOpenChange:p,getPopupContainer:O||r,mouseEnterDelay:P,mouseLeaveDelay:i,overlayClassName:U,overlayStyle:L,destroyPopupOnHide:T,dropdownRender:H},{compactSize:y,compactItemClassnames:m}=be(f,e),x=W(G,m,w);"overlay"in t&&(d.overlay=_),"open"in t&&(d.open=R),"placement"in t?d.placement=g:d.placement=e==="rtl"?"bottomLeft":"bottomRight";const N=n.createElement(q,{type:s,danger:c,disabled:l,loading:h,onClick:j,htmlType:D,href:E,title:A},$),C=n.createElement(q,{type:s,danger:c,icon:B}),[M,se]=k([N,C]);return n.createElement(he.Compact,Object.assign({className:x,size:y,block:!0},S),M,n.createElement(X,Object.assign({},d),se))};te.__ANT_BUTTON=!0;const Oe=te,oe=X;oe.Button=Oe;const Ee=oe,{useModal:ke}=pe,$e=()=>{const{init:t}=re(),r=le(),{pathname:a}=ie(),{user:e,logout:o}=ce(),[s,c]=ke(),l=()=>{s.confirm({title:"Confirm logout",content:"Are you sure you want to logout?",okButtonProps:{danger:!0},onOk:()=>{o()}})};return n.useEffect(()=>{a===F.Dashboard&&r(F.Organizations,{replace:!0})},[a,r]),n.useEffect(()=>{t()},[t]),u.jsxDEV("div",{children:[u.jsxDEV("header",{className:"h-15 flex items-center shadow",children:u.jsxDEV("div",{className:"container max-w-240 px-2 mx-auto flex justify-between items-center",children:[u.jsxDEV(ue,{to:F.Dashboard,className:"text-2xl font-bold text-primary",children:"Sync Gitea Server"},void 0,!1,{fileName:"/Users/erguotou/workspace/erguotou/sync-gitea-server/packages/web/src/pages/dashboard.tsx",lineNumber:41,columnNumber:11},void 0),u.jsxDEV(Ee,{menu:{items:[{key:"logout",label:"Logout",onClick:l}]},children:u.jsxDEV("a",{className:"cursor-pointer",children:e==null?void 0:e.nickname},void 0,!1,{fileName:"/Users/erguotou/workspace/erguotou/sync-gitea-server/packages/web/src/pages/dashboard.tsx",lineNumber:47,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/erguotou/workspace/erguotou/sync-gitea-server/packages/web/src/pages/dashboard.tsx",lineNumber:42,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/erguotou/workspace/erguotou/sync-gitea-server/packages/web/src/pages/dashboard.tsx",lineNumber:40,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/erguotou/workspace/erguotou/sync-gitea-server/packages/web/src/pages/dashboard.tsx",lineNumber:39,columnNumber:7},void 0),u.jsxDEV("main",{className:"container max-w-240 mx-auto mt-10 px-2",children:u.jsxDEV(de,{},void 0,!1,{fileName:"/Users/erguotou/workspace/erguotou/sync-gitea-server/packages/web/src/pages/dashboard.tsx",lineNumber:52,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/erguotou/workspace/erguotou/sync-gitea-server/packages/web/src/pages/dashboard.tsx",lineNumber:51,columnNumber:7},void 0),c]},void 0,!0,{fileName:"/Users/erguotou/workspace/erguotou/sync-gitea-server/packages/web/src/pages/dashboard.tsx",lineNumber:38,columnNumber:5},void 0)};export{$e as default};
